В этой задаче я использую стек индексов скобочек(поэтому память за O(|S|)).  
Если встречается открывающая скобочка , я кладу её индекс на стек.  
Если встречаю закрывающую, то забираю верхний индекс на стеке. Потом в зависимости от размера стека задаю переменную res.
